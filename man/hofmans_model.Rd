% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_hofmans.R
\encoding{UTF-8}
\name{hofmans_model}
\alias{hofmans_model}
\title{Cálculo de audiencia acumulada según el modelo de acumulación de Hofmans}
\usage{
hofmans_model(R1, R2, N, show_steps = TRUE)
}
\arguments{
\item{R1}{Numérico. Cobertura de la primera inserción (como proporción entre 0 y 1)}

\item{R2}{Numérico. Cobertura de la segunda inserción (como proporción entre 0 y 1)}

\item{N}{Entero. Número de inserciones para las que calcular la cobertura}

\item{show_steps}{Lógico. Si TRUE muestra los pasos intermedios del cálculo}
}
\value{
Una lista "hofmans_reach" conteniendo:
\itemize{
\item resultados: Data frame con:
\itemize{
\item N: Número de inserción
\item RN: Cobertura acumulada (proporción)
}
\item parametros: Lista con los parámetros calculados:
\itemize{
\item k: Factor k calculado
\item d: Duplicación entre inserciones
\item alpha: Parámetro de ajuste para N>3
}
\item plot: Gráfico de la evolución de la cobertura
}
}
\description{
Implementa el modelo de Hofmans (1966) para calcular la audiencia acumulada
de un plan de medios con múltiples inserciones en un soporte. El modelo considera
la duplicación entre inserciones y utiliza un parámetro de ajuste (alpha) para mejorar
la estimación de coberturas para números elevados de inserciones.
}
\details{
El modelo de Hofmans calcula la cobertura acumulada en dos etapas:
\enumerate{
\item Utiliza una primera formulación para calcular R3:
\itemize{
\item R3 = (3R1)^2 / \link{3R1 + k(2R1-R2)(3 choose 2)}
\item donde k = 2R1/R2
}
\item Para N>3 aplica una formulación mejorada que incorpora un parámetro alpha:
\itemize{
\item RN = (NR1)^2 / \link{NR1 + k*(N-1)^α*(N/2)*d}
\item donde alpha se calcula usando R3
\item y d = 2R1-R2 es la duplicación entre inserciones
}
}

El modelo asume:
\itemize{
\item Audiencia constante para todas las inserciones
\item Duplicación constante entre pares de inserciones
\item Comportamiento no lineal de la acumulación para N>3
}
}
\examples{
# Ejemplo básico con 5 inserciones
R1 <- 0.06    # 6\% de cobertura primera inserción
R2 <- 0.103   # 10.3\% de cobertura segunda inserción
resultado <- calc_hofmans(R1, R2, N=5)

# Examinar los resultados
print(resultado$resultados)
print(resultado$parametros)

# Ejemplo con validación de datos
\dontrun{
R1_invalido <- 1.2  # >100\% cobertura
resultado <- calc_hofmans(R1_invalido, R2, N=5)
# Generará un error por cobertura inválida
}

}
\references{
Hofmans, P. (1966). Measuring the Cumulative Net Coverage of Any Combination of Media.
Journal of Marketing Research, 3(3), 269-278.
}
\seealso{
\code{\link{calc_beta_binomial}} para estimaciones con la distribución Beta-Binomial
\code{\link{calc_sainsbury}} para estimaciones con duplicación entre soportes
}
